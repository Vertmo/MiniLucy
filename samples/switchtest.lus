type t1 = A + B + C;

node test1(x : t1; b : bool) returns (y : int);
let
  switch x
  | A -> y = 0;
  | B -> y = 1;
  | C -> y = 2;
  end;
tel
  
node test2(b : bool; x : t1 when b) returns (y : int when b);
let
  switch x
  | A -> y = 0;
  | B -> y = 1;
  | C -> y = 2;
  end;
tel
